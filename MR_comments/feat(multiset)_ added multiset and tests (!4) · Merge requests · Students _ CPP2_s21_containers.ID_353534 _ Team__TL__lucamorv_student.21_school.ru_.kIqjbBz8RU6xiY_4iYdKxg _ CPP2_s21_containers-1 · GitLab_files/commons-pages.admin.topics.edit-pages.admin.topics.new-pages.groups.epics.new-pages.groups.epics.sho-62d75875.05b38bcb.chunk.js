(this.webpackJsonp=this.webpackJsonp||[]).push([[10],{Gapp:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return k}));n("uHfJ"),n("R0RX"),n("JHu5"),n("3R5X"),n("XUYm"),n("WmlO"),n("W9Nl");var i=n("6oy4"),o=n.n(i),s=n("79X9"),r=n("oj/M");const l=/^(?<indent>\s*)(?<leader>((?<isUl>[*+-])|(?<isOl>\d+\.))( \[([xX~\s])\])?\s)(?<content>.)?/,a=/^((\s{0,3}-+\s*-+\s*-+\s*[\s-]*)|(\s{0,3}\*+\s*\*+\s*\*+\s*[\s*]*))$/;let u=!1;function c(e,t){return`${e}\n${t}\n${e}`}function d(e,t){let n=e.substring(t.selectionEnd);return n=n.replace(/^\n/,""),n=n.split("\n"),n[0]}function p(e){const t=e.value,{selectionStart:n,selectionEnd:i}=e;let o="\n"===t[n]?n-1:n;o=t.lastIndexOf("\n",o)+1;let s=i===n?i:i-1;s=t.indexOf("\n",s),s<0&&(s=t.length);return{lines:t.substring(o,s).split("\n"),selectionStart:n,selectionEnd:i,startPos:o,endPos:s}}function h(e,t,n,i,o,s){let r=Math.max(i,t+o),l=Math.max(i,n+s);t===n?l=r:t===i&&(r=i),e.setSelectionRange(r,l)}function f(e){return{start:{row:(t=e.getSelection()).startLineNumber,column:t.startColumn},end:{row:t.endLineNumber,column:t.endColumn}};var t}function m(e){let t,n,i,o,{textArea:s,text:l,tag:a,cursorOffset:u,blockTag:p,selected:h="",wrap:m,select:g,editor:v}=e,y=!1,w=!1,b=!1;if(h=h.toString(),v){const e=f(v);t=e.start,n=e.end}if("[{text}](url)"===a&&URL)try{const e=new URL(h);"null"===e.origin&&null!==e.origin||(a="[text]({text})",g="text")}catch(e){}0===h.indexOf("\n")&&(w=!0,h=h.replace(/\n+/,"")),s?s.selectionEnd-s.selectionStart>h.replace(/\n$/,"").length&&(y=!0,h=h.replace(/\n$/,"")):v&&t.row!==n.row&&(y=!0,h=h.replace(/\n$/,""));const F=h.split("\n");v&&!m?(i=v.getValue().split("\n")[t.row],/^\s*$/.test(i)&&(b=!0)):s&&!m&&(i=s.value.substr(0,s.selectionStart).lastIndexOf("\n"),/^\s*$/.test(s.value.substring(i,s.selectionStart))&&(b=!0));const E=s&&0===s.selectionStart||v&&0===t.column&&0===t.row,x=m||b||E?"":"\n";return o=F.length>1&&(!m||null!=p&&""!==p)?null!=p&&""!==p?v?function(e,t,n,i){const o=e.split("\n"),s=f(i);if(o[s.start.row-1]===t&&o[s.end.row+1]===t){if(null!==t){const e=o[s.end.row+1],t=new Range(o[s.start.row-1],0,s.end.row+1,e.length);i.getSelection().setSelectionRange(t)}return n}return c(t,n)}(l,p,h,v):function(e,t,n,i){return function(e,t){let n=e.substring(0,t.selectionStart);n=n.split("\n");const i=n[n.length-2];return void 0===i?"":i}(e,t)===n&&d(e,t)===n?(null!=n&&(t.selectionStart=t.selectionStart-(n.length+1),t.selectionEnd=t.selectionEnd+(n.length+1)),i):c(n,i)}(l,s,p,h):F.map((function(e){return a.indexOf("{text}")>-1?a.replace("{text}",e):0===e.indexOf(a)?String(e.replace(a,"")):String(a)+e})).join("\n"):a.indexOf("{text}")>-1?a.replace("{text}",(function(){return h.replace(/\\n/g,"\n").replace(/%br/g,"\\n")})):String(x)+a+h+(m?a:""),w&&(o="\n"+o),y&&(o+="\n"),v?v.replaceSelectedText(o,g):Object(r.u)(s,o),function(e){let t,{textArea:n,tag:i,cursorOffset:o,positionBetweenTags:s,removedLastNewLine:r,select:l,editor:a,editorSelectionStart:u,editorSelectionEnd:c}=e;if(!n||n.setSelectionRange){if(l&&l.length>0){if(n){const e=n.selectionStart-(i.length-i.indexOf(l)),t=e+l.length;return n.setSelectionRange(e,t)}if(a)return void a.selectWithinSelection(l,i)}if(n){if(n.selectionStart===n.selectionEnd)return t=s?n.selectionStart-i.length:n.selectionStart,r&&(t-=1),o&&(t-=o),n.setSelectionRange(t,t)}else a&&u.row===c.row&&s&&a.moveCursor(-1*i.length)}}({textArea:s,tag:a.replace("{text}",h),cursorOffset:u,positionBetweenTags:m&&0===h.length,removedLastNewLine:y,select:g,editor:v,editorSelectionStart:t,editorSelectionEnd:n})}function g(e){let{textArea:t,tag:n,cursorOffset:i,blockTag:s,wrap:r,select:l,tagContent:a}=e;const u=o()(t);t=u.get(0);const c=u.val(),d=function(e,t){return e.substring(t.selectionStart,t.selectionEnd)}(c,t)||a;return u.focus(),m({textArea:t,text:c,tag:n,cursorOffset:i,blockTag:s,selected:d,wrap:r,select:l})}function v(e,t){if(!gon.markdown_automatic_lists)return;if("Enter"!==e.key)return;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(t.selectionStart!==t.selectionEnd)return;if(u)return;const n=p(t),i=n.lines[0],o=i.match(l);if(o){const{leader:s,indent:r,content:u,isOl:c}=o.groups,p=!u,h=s.length+r.length;if(n.selectionStart-n.startPos<h)return;if(p)return void(t.selectionStart=t.selectionStart-o[0].length);let f;if(c){f=function(e,t){var n;const{indent:i,leader:o}=e.groups,{indent:s,isOl:r}=null!==(n=null==t?void 0:t.groups)&&void 0!==n?n:{},[l,a=""]=o.split("."),u=r&&s===i?0:1;return`${i}${parseInt(l,10)+u}.${a}`}(o,d(t.value,t).match(l))}else{if(i.match(a))return;f=`${r}${s}`}f=f.replace(/\[[x~]\]/i,"[ ]"),e.preventDefault(),g({tag:f,textArea:t,blockTag:"",wrap:!1,select:"",tagContent:""})}}function y(e){var t,n;null!==(t=(n=o()(this)).atwho)&&void 0!==t&&t.call(n,"isSelecting")||(v(e,this),function(e,t){if(!gon.markdown_surround_selection)return;if(e.metaKey||e.ctrlKey)return;if(t.selectionStart===t.selectionEnd)return;const n={"*":"**{text}**",_:"_{text}_","`":"`{text}`","'":"'{text}'",'"':'"{text}"',"[":"[{text}]","{":"{{text}}","(":"({text})","<":"<{text}>"}[e.key];n&&(e.preventDefault(),g({tag:n,textArea:t,blockTag:"",wrap:!0,select:"",tagContent:""}))}(e,this))}function w(){u=!0}function b(){u=!1}function F(e){const t=e.closest(".md-area").find("textarea");switch(e.data("mdCommand")){case"indentLines":!function(e){const t=e.get(0),{lines:n,selectionStart:i,selectionEnd:o,startPos:s,endPos:l}=p(t),a=[];let u=0;t.focus(),t.setSelectionRange(s,l),n.forEach((function(e){e=" ".repeat(2)+e,u+=2,a.push(e)}));const c=a.join("\n");Object(r.u)(t,c),h(t,i,o,s,2,u)}(t);break;case"outdentLines":!function(e){const t=e.get(0),{lines:n,selectionStart:i,selectionEnd:o,startPos:s,endPos:l}=p(t),a=[];let u=0,c=-1,d=0;t.focus(),t.setSelectionRange(s,l),n.forEach((function(e){if(d=0,e.length>0){for(;d<2&&" "===e[d];)d+=1;d>0&&(e=e.slice(d),u+=d)}-1===c&&(c=d),a.push(e)}));const f=a.join("\n");u>0&&Object(r.u)(t,f),h(t,i,o,s,-c,-u)}(t);break;default:return g({textArea:t,tag:e.data("mdTag"),cursorOffset:e.data("mdCursorOffset"),blockTag:e.data("mdBlock"),wrap:!e.data("mdPrepend"),select:e.data("mdSelect"),tagContent:e.attr("data-md-tag-content")})}}function E(e){o()(".markdown-area",e).on("keydown",y).on("compositionstart",w).on("compositionend",b).each((function(){s.default.initMarkdownEditorShortcuts(o()(this),F)}));return o()(".js-md",e).off("click").on("click",(function(){return F(o()(this))}))}function x(e){o()(".js-md").off("click").on("click",(function(t){const{mdTag:n,mdBlock:i,mdPrepend:s,mdSelect:r}=o()(t.currentTarget).data();m({tag:n,blockTag:i,wrap:!s,select:r,selected:e.getSelectedText(),text:e.getValue(),editor:e}),e.focus()}))}function k(e){return o()(".markdown-area",e).off("keydown",y).off("compositionstart",w).off("compositionend",b).each((function(){s.default.removeMarkdownEditorShortcuts(o()(this))})),o()(".js-md",e).off("click")}},TOl7:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),t.a=function(e,t){const n=document.querySelector(e),i=document.querySelector(t);if(!n||!i)return;const o=n.closest("form");n.addEventListener("click",(function(){i.click()})),i.addEventListener("change",(function(){o.querySelector(".js-filename").textContent=i.value.replace(/^.*[\\\/]/,"")}))};const i=function(e){let t;return e&&(t=e.name),t},o=function(e){const t=e.name?e.name:"image.png";return/^[\w.\-+]+\.(png|jpg|jpeg|gif|bmp|tiff|ico|webp)$/.test(t)?t:"image.png"}},uY7R:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n("vKRd"),o=n.n(i),s=(n("WmlO"),n("3R5X"),n("W9Nl"),n("JHu5"),n("XUYm"),n("XtuB")),r=n("6oy4"),l=n.n(r),a=n("YI2X"),u=n("oj/M"),c=n("A1CF"),d=n.n(c),p=(n("uHfJ"),n("R0RX"),n("ylB9"),n("XexO"),n("ujLG"),n("HaUQ"),n("vP7+")),h=n.n(p),f=(n("QQrm"),n("TOl7")),m=n("vRHk"),g=n("t9l/");n("h8Et");class v{constructor(e){this.data=e,this.columnWidths=[],this.rows=[],this.tableFound=this.parseTable()}isTable(){return this.tableFound}convertToTableMarkdown(){var e=this;this.calculateColumnWidths();const t=this.rows.map((function(t){return`| ${t.map((function(t,n){return e.formatColumn(t,n)})).join(" | ")} |`}));return t.splice(1,0,this.generateHeaderBreak()),t.join("\n")}parseTable(){if(!this.data.types.includes("text/html")||!this.data.types.includes("text/plain"))return!1;const e=this.data.getData("text/html");this.doc=(new DOMParser).parseFromString(e,"text/html");if(1!==this.doc.querySelectorAll("table:not(.diff-wrap-lines)").length)return!1;const t=this.data.getData("text/plain").trim().split(/[\n\u0085\u2028\u2029]|\r\n?/g);return this.doc.querySelectorAll("tr").length===t.length&&(this.rows=t.map((function(e){return e.split("\t")})),this.normalizeRows(),!!this.columnCountsMatch())}normalizeRows(){const e=this.rows.map((function(e){return e.length})),t=Math.max(...e);this.rows.forEach((function(e){for(;e.length<t;)e.push("")}))}calculateColumnWidths(){var e=this;this.columnWidths=this.rows[0].map((function(t,n){return function(e,t){return Math.max(...e.map((function(e){return e[t].length})))}(e.rows,n)}))}columnCountsMatch(){const e=this.rows[0].length;let t=0;return this.doc.querySelectorAll("table tr").forEach((function(e){t=Math.max(e.cells.length,t)})),e===t}formatColumn(e,t){return e+Array(this.columnWidths[t]-e.length+1).join(" ")}generateHeaderBreak(){var e=this;return`|${this.columnWidths.map((function(t,n){return Array(e.columnWidths[n]+3).join("-")})).join("|")}|`}}var y=n("mphk"),w=n("AFSh");function b(e){return e&&"string"!=typeof e?e.message:e}h.a.autoDiscover=!1;var F=n("Gapp");class E{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.form=e,this.textarea=this.form.find("textarea.js-gfm-input"),this.enableGFM={...a.b,...n};let r=gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources||{};o()(s)||(r=s),Object.keys(this.enableGFM).forEach((function(e){"emojis"===e||r[e]||(t.enableGFM[e]=!1)})),this.destroy(),this.setupForm(r,i),this.form.data("glForm",this)}destroy(){this.clearEventListeners(),this.autoComplete&&this.autoComplete.destroy(),this.formDropzone&&this.formDropzone.destroy(),this.form.data("glForm",null)}setupForm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.form.is(":not(.gfm-form)")||t;this.form.removeClass("js-new-note-form"),n&&(this.form.find(".div-dropzone").remove(),this.form.addClass("gfm-form"),Object(u.m)(this.form.find(".js-note-text"),this.form.find(".js-comment-button, .js-note-new-discussion")),this.autoComplete=new a.a(e),this.autoComplete.setup(this.form.find(".js-gfm-input"),this.enableGFM),this.formDropzone=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{parallelUploads:2};const n='<div class="div-dropzone-hover"></div>',i=Object(u.P)("paperclip","div-dropzone-icon s24"),o=e.find(".attaching-file-message"),s=e.find(".button-cancel-uploading-files"),r=e.find(".retry-uploading-link"),a=e.find(".uploading-progress"),c=e.find(".uploading-error-container"),p=e.find(".uploading-error-message"),F=e.find(".uploading-progress-container"),E=e.data("uploads-path")||window.uploads_path||null,x=gon.max_file_size||10,k=e.find(".js-gfm-input");let C,z,S,L,A,T;k.wrap('<div class="div-dropzone"></div>'),k.on("paste",(function(e){return C(e)}));const D=k.closest(".md-area"),M=e.find(".div-dropzone");if(M.parent().addClass("div-dropzone-wrapper"),M.append(n),M.find(".div-dropzone-hover").append(i),!E)return M.addClass("js-invalid-dropzone"),null;const O=M.dropzone({url:E,dictDefaultMessage:"",clickable:!0,paramName:"file",maxFilesize:x,uploadMultiple:!1,headers:w.a.headers,previewContainer:!1,...t,dragover:function(){D.addClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",.7)},dragleave:function(){D.removeClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",0)},drop:function(){D.removeClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",0),k.focus()},success(e,t){const n=this.getQueuedFiles().length+this.getUploadingFiles().length>=1;S(t.link.url,e.size),z(t.link.markdown,n)},error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(g.a)("Attaching the file failed."),n=arguments.length>2?arguments[2]:void 0;const i=b(t||n.responseText);c.removeClass("hide"),p.html(i),s.addClass("hide")},totaluploadprogress(e){L(this.files,o),a.text(Math.round(e)+"%")},sending:function(){c.addClass("hide"),F.removeClass("hide"),s.removeClass("hide")},removedfile:function(){s.addClass("hide"),F.addClass("hide"),c.addClass("hide")},queuecomplete:function(){l()(".dz-preview").remove(),l()(".markdown-area").trigger("input"),F.addClass("hide"),s.addClass("hide")}}),R=l()(O[0]).children("textarea");s.on("click",(function(e){e.preventDefault(),e.stopPropagation(),h.a.forElement(M.get(0)).removeAllFiles(!0)})),r.on("click",(function(e){const t=h.a.forElement(e.target.closest(".js-main-target-form").querySelector(".div-dropzone")),n=t.files;e.preventDefault(),t.removeAllFiles(!0),n.map((function(e){const n=e;return n.status===h.a.ERROR&&(n.status=void 0,n.accepted=void 0),t.addFile(n)}))})),C=function(e){const t=e.originalEvent,{clipboardData:n}=t;if(n&&n.items){const i=new v(n);if(i.isTable()){e.preventDefault();const t=i.convertToTableMarkdown();z(t)}else if(!T(t)){[...n.files].forEach((function(t){if(-1!==t.type.indexOf("image")){e.preventDefault();const n=246,i=Object(f.b)(t)||"image.png",o=Object(m.z)(i,n);z(`{{${o}}}`),A(t,o)}}))}}},T=function(e){return[...e.clipboardData.items].some((function(e){return"text/plain"===e.type}))},z=function(e,t){let n=e;t&&(n+="\n\n");const i=R.get(0),o=i.selectionStart,s=i.selectionEnd,r=l()(R).val().length,a=l()(R).val().substring(0,o),u=l()(R).val().substring(s,r);return l()(R).val(a+n+u),i.setSelectionRange(o+n.length,s+n.length),i.style.height=i.scrollHeight+"px",k.get(0).dispatchEvent(new Event("input")),k.trigger("input")},S=function(t){l()(e).append(`<input type="hidden" name="files[]" value="${d()(t)}">`)};const _=function(){return F.removeClass("hide")},U=function(){return F.addClass("hide")},N=function(e){c.removeClass("hide"),p.html(e)},I=function(e,t){const n=l()(R),i=n.get(0),o=i.selectionStart,s=i.selectionEnd,r=`{{${e}}}`;n.val((function(e,n){return n.replace(r,t)})),i.setSelectionRange(o-r.length+t.length,s-r.length+t.length),n.trigger("change")};function H(e){e.preventDefault(),l()(this).closest(".gfm-form").find(".div-dropzone").click(),k.focus()}A=function(e,t){const n=new FormData;n.append("file",e,t),_(),y.a.post(E,n).then((function(e){let{data:n}=e;const i=n.link.markdown;I(t,i),U()})).catch((function(e){N(e.response.data.message),U()}))},L=function(e,t){const n=e.filter((function(e){return"uploading"===e.status||"queued"===e.status})).length,i=Object(g.f)("Attaching a file","Attaching %d files",n);t.text(i+" -")},e.find(".markdown-selector").click(H);const P=e.find(".js-attach-file-button");return P.length&&P.get(0).addEventListener("click",H),M.get(0)?h.a.forElement(M.get(0)):null}(this.form,{parallelUploads:1}),this.form.is(":not(.js-no-autosize)")&&Object(s.a)(this.textarea)),this.addEventListeners(),Object(F.b)(this.form),this.form.show(),this.isAutosizeable&&this.setupAutosize(),!0===this.textarea.data("autofocus")&&this.textarea.focus()}setupAutosize(){var e=this;this.textarea.off("autosize:resized").on("autosize:resized",this.setHeightData.bind(this)),this.textarea.off("mouseup.autosize").on("mouseup.autosize",this.destroyAutosize.bind(this)),setTimeout((function(){Object(s.a)(e.textarea),e.textarea.css("resize","vertical")}),0)}setHeightData(){this.textarea.data("height",this.textarea.outerHeight())}destroyAutosize(){const e=this.textarea.outerHeight();this.textarea.data("height")!==e&&(s.a.destroy(this.textarea),this.textarea.data("height",e),this.textarea.outerHeight(e),this.textarea.css("max-height",window.outerHeight))}clearEventListeners(){this.textarea.off("focus"),this.textarea.off("blur"),Object(F.d)(this.form)}addEventListeners(){this.textarea.on("focus",(function(){l()(this).closest(".md-area").addClass("is-focused")})),this.textarea.on("blur",(function(){l()(this).closest(".md-area").removeClass("is-focused")}))}get supportsQuickActions(){return Boolean(this.textarea.data("supports-quick-actions"))}}},"vP7+":function(e,t,n){(function(e,t){(function(){var n,i,o,s,r,l,a,u,c=[].slice,d={}.hasOwnProperty;a=function(){},i=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,o;if(n=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[n])for(i=0,o=t.length;i<o;i++)t[i].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=o=0,s=n.length;o<s;i=++o)if(n[i]===t){n.splice(i,1);break}return this},e}(),(n=function(e){var t,n;function o(e,n){var i,s,r;if(this.element=e,this.version=o.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(o.instances.push(this),this.element.dropzone=this,i=null!=(r=o.optionsForElement(this.element))?r:{},this.options=t({},this.defaultOptions,i,null!=n?n:{}),this.options.forceFallback||!o.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=o.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=o.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(o,e),o.prototype.Emitter=i,o.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],o.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,n,i,s,r;for(this.element.className=this.element.className+" dz-browser-not-supported",i=0,s=(r=this.element.getElementsByTagName("div")).length;i<s;i++)e=r[i],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(n=t.getElementsByTagName("span")[0])&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,i,s,r,l,a,u,c,d,p,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),i=0,l=(c=e.previewElement.querySelectorAll("[data-dz-name]")).length;i<l;i++)c[i].textContent=e.name;for(s=0,a=(d=e.previewElement.querySelectorAll("[data-dz-size]")).length;s<a;s++)d[s].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),f=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===o.UPLOADING?o.confirm(f.options.dictCancelUploadConfirmation,(function(){return f.removeFile(e)})):f.options.dictRemoveFileConfirmation?o.confirm(f.options.dictRemoveFileConfirmation,(function(){return f.removeFile(e)})):f.removeFile(e)},h=[],r=0,u=(p=e.previewElement.querySelectorAll("[data-dz-remove]")).length;r<u;r++)n=p[r],h.push(n.addEventListener("click",t));return h}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,o,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=0,o=(s=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;i<o;i++)(n=s[i]).alt=e.name,n.src=t;return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){var n,i,o,s,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=[],i=0,o=(s=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;i<o;i++)n=s[i],r.push(n.textContent=t);return r}},errormultiple:a,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:a,uploadprogress:function(e,t,n){var i,o,s,r,l;if(e.previewElement){for(l=[],o=0,s=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<s;o++)"PROGRESS"===(i=r[o]).nodeName?l.push(i.value=t):l.push(i.style.width=t+"%");return l}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,addedfiles:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},t=function(){var e,t,n,i,o,s,r;for(i=arguments[0],s=0,r=(n=2<=arguments.length?c.call(arguments,1):[]).length;s<r;s++)for(e in t=n[s])o=t[e],i[e]=o;return i},o.prototype.getAcceptedFiles=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).accepted&&o.push(e);return o},o.prototype.getRejectedFiles=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).accepted||o.push(e);return o},o.prototype.getFilesWithStatus=function(e){var t,n,i,o,s;for(s=[],n=0,i=(o=this.files).length;n<i;n++)(t=o[n]).status===e&&s.push(t);return s},o.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(o.QUEUED)},o.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(o.UPLOADING)},o.prototype.getAddedFiles=function(){return this.getFilesWithStatus(o.ADDED)},o.prototype.getActiveFiles=function(){var e,t,n,i,s;for(s=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).status!==o.UPLOADING&&e.status!==o.QUEUED||s.push(e);return s},o.prototype.init=function(){var e,t,n,i,s,r,l,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(a=this,(n=function(){return a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||a.options.maxFiles>1)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",(function(){var e,t,i,o;if((t=a.hiddenFileInput.files).length)for(i=0,o=t.length;i<o;i++)e=t[i],a.addFile(e);return a.emit("addedfiles",t),n()}))})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,i=0,s=(l=this.events).length;i<s;i++)e=l[i],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(e){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||o.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},o.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)},o.prototype.updateTotalUploadProgress=function(){var e,t,n,i,o,s,r;if(n=0,t=0,this.getActiveFiles().length){for(o=0,s=(r=this.getActiveFiles()).length;o<s;o++)n+=(e=r[o]).upload.bytesSent,t+=e.upload.total;i=100*n/t}else i=100;return this.emit("totaluploadprogress",i,t,n)},o.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},o.prototype.getFallbackForm=function(){var e,t,n,i;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=o.createElement(n),"FORM"!==this.element.tagName?(i=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:t)},o.prototype.getExistingFallback=function(){var e,t,n,i,o,s;for(t=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},i=0,o=(s=["div","form"]).length;i<o;i++)if(n=s[i],e=t(this.element.getElementsByTagName(n)))return e},o.prototype.setupEventListeners=function(){var e,t,n,i,o,s,r;for(r=[],i=0,o=(s=this.listeners).length;i<o;i++)e=s[i],r.push(function(){var i,o;for(t in o=[],i=e.events)n=i[t],o.push(e.element.addEventListener(t,n,!1));return o}());return r},o.prototype.removeEventListeners=function(){var e,t,n,i,o,s,r;for(r=[],i=0,o=(s=this.listeners).length;i<o;i++)e=s[i],r.push(function(){var i,o;for(t in o=[],i=e.events)n=i[t],o.push(e.element.removeEventListener(t,n,!1));return o}());return r},o.prototype.disable=function(){var e,t,n,i,o;for(this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),o=[],t=0,n=(i=this.files).length;t<n;t++)e=i[t],o.push(this.cancelUpload(e));return o},o.prototype.enable=function(){return this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()},o.prototype.filesize=function(e){var t,n,i,o,s,r,l;if(n=0,i="b",e>0){for(t=r=0,l=(s=["TB","GB","MB","KB","b"]).length;r<l;t=++r)if(o=s[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){n=e/Math.pow(this.options.filesizeBase,4-t),i=o;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+i},o.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},o.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((n=e.dataTransfer.items)&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},o.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},o.prototype.handleFiles=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(this.addFile(t));return o},o.prototype._addFilesFromItems=function(e){var t,n,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)null!=(n=e[i]).webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?s.push(this.addFile(n.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?s.push(this.addFile(n.getAsFile())):s.push(void 0);return s},o.prototype._addFilesFromDirectory=function(e,t){var n,i,o;return n=e.createReader(),o=this,i=function(e){var n,i,s;for(i=0,s=e.length;i<s;i++)(n=e[i]).isFile?n.file((function(e){if(!o.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,o.addFile(e)})):n.isDirectory&&o._addFilesFromDirectory(n,t+"/"+n.name)},n.readEntries(i,(function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0}))},o.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},o.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},o.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],this.enqueueFile(t);return null},o.prototype.enqueueFile=function(e){if(e.status!==o.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},o.prototype._thumbnailQueue=[],o.prototype._processingThumbnail=!1,o.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},o.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},o.prototype.removeFile=function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=u(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},o.prototype.removeAllFiles=function(e){var t,n,i,s;for(null==e&&(e=!1),n=0,i=(s=this.files.slice()).length;n<i;n++)((t=s[n]).status!==o.UPLOADING||e)&&this.removeFile(t);return null},o.prototype.createThumbnail=function(e,t){var n,i;return(n=new FileReader).onload=(i=this,function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}),n.readAsDataURL(e)},o.prototype.createThumbnailFromUrl=function(e,t,n,i){var o,s;return o=document.createElement("img"),i&&(o.crossOrigin=i),o.onload=(s=this,function(){var t,i,r,a,u,c,d,p;if(e.width=o.width,e.height=o.height,null==(r=s.options.resize.call(s,e)).trgWidth&&(r.trgWidth=r.optWidth),null==r.trgHeight&&(r.trgHeight=r.optHeight),i=(t=document.createElement("canvas")).getContext("2d"),t.width=r.trgWidth,t.height=r.trgHeight,l(i,o,null!=(u=r.srcX)?u:0,null!=(c=r.srcY)?c:0,r.srcWidth,r.srcHeight,null!=(d=r.trgX)?d:0,null!=(p=r.trgY)?p:0,r.trgWidth,r.trgHeight),a=t.toDataURL("image/png"),s.emit("thumbnail",e,a),null!=n)return n()}),null!=n&&(o.onerror=n),o.src=t},o.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,e=n=this.getUploadingFiles().length,!(n>=t)&&(i=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;e<t;){if(!i.length)return;this.processFile(i.shift()),e++}}},o.prototype.processFile=function(e){return this.processFiles([e])},o.prototype.processFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)(t=e[n]).processing=!0,t.status=o.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},o.prototype._getFilesWithXhr=function(e){var t;return function(){var n,i,o,s;for(s=[],n=0,i=(o=this.files).length;n<i;n++)(t=o[n]).xhr===e&&s.push(t);return s}.call(this)},o.prototype.cancelUpload=function(e){var t,n,i,s,r,l,a;if(e.status===o.UPLOADING){for(i=0,r=(n=this._getFilesWithXhr(e.xhr)).length;i<r;i++)(t=n[i]).status=o.CANCELED;for(e.xhr.abort(),s=0,l=n.length;s<l;s++)t=n[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(a=e.status)!==o.ADDED&&a!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var e,t;return t=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},o.prototype.uploadFile=function(e){return this.uploadFiles([e])},o.prototype.uploadFiles=function(e){var i,s,r,l,a,u,c,d,p,h,f,m,g,v,y,w,b,F,E,x,k,C,z,S,L,A,T,D,M,O,R,_,U,N;for(F=new XMLHttpRequest,E=0,z=e.length;E<z;E++)(i=e[E]).xhr=F;for(l in m=n(this.options.method,e),w=n(this.options.url,e),F.open(m,w,!0),F.withCredentials=!!this.options.withCredentials,v=null,N=this,r=function(){var t,n,o;for(o=[],t=0,n=e.length;t<n;t++)i=e[t],o.push(N._errorProcessing(e,v||N.options.dictResponseError.replace("{{statusCode}}",F.status),F));return o},y=function(t){return function(n){var o,s,r,l,a,u,c,d,p;if(null!=n)for(s=100*n.loaded/n.total,r=0,u=e.length;r<u;r++)(i=e[r]).upload={progress:s,total:n.total,bytesSent:n.loaded};else{for(o=!0,s=100,l=0,c=e.length;l<c;l++)100===(i=e[l]).upload.progress&&i.upload.bytesSent===i.upload.total||(o=!1),i.upload.progress=s,i.upload.bytesSent=i.upload.total;if(o)return}for(p=[],a=0,d=e.length;a<d;a++)i=e[a],p.push(t.emit("uploadprogress",i,s,i.upload.bytesSent));return p}}(this),F.onload=function(t){return function(n){var i;if(e[0].status!==o.CANCELED&&4===F.readyState){if(v=F.responseText,F.getResponseHeader("content-type")&&~F.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(e){n=e,v="Invalid JSON response from server."}return y(),200<=(i=F.status)&&i<300?t._finished(e,v,n):r()}}}(this),F.onerror=function(){if(e[0].status!==o.CANCELED)return r()},(null!=(D=F.upload)?D:F).onprogress=y,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&t(u,this.options.headers),u)(a=u[l])&&F.setRequestHeader(l,a);if(s=new FormData,this.options.params)for(f in M=this.options.params)b=M[f],s.append(f,b);for(x=0,S=e.length;x<S;x++)i=e[x],this.emit("sending",i,F,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,F,s),"FORM"===this.element.tagName)for(k=0,L=(O=this.element.querySelectorAll("input, textarea, select, button")).length;k<L;k++)if(p=(d=O[k]).getAttribute("name"),h=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(C=0,A=(R=d.options).length;C<A;C++)(g=R[C]).selected&&s.append(p,g.value);else(!h||"checkbox"!==(_=h.toLowerCase())&&"radio"!==_||d.checked)&&s.append(p,d.value);for(c=T=0,U=e.length-1;0<=U?T<=U:T>=U;c=0<=U?++T:--T)s.append(this._getParamName(c),e[c],e[c].name);return this.submitRequest(F,s,e)},o.prototype.submitRequest=function(e,t,n){return e.send(t)},o.prototype._finished=function(e,t,n){var i,s,r;for(s=0,r=e.length;s<r;s++)(i=e[s]).status=o.SUCCESS,this.emit("success",i,t,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},o.prototype._errorProcessing=function(e,t,n){var i,s,r;for(s=0,r=e.length;s<r;s++)(i=e[s]).status=o.ERROR,this.emit("error",i,t,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},o}(i)).version="4.2.0",n.options={},n.optionsForElement=function(e){return e.getAttribute("id")?n.options[o(e.getAttribute("id"))]:void 0},n.instances=[],n.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},n.autoDiscover=!0,n.discover=function(){var e,t,i,o,s,r;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],(e=function(e){var t,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?s.push(i.push(t)):s.push(void 0);return s})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],o=0,s=i.length;o<s;o++)t=i[o],!1!==n.optionsForElement(t)?r.push(new n(t)):r.push(void 0);return r},n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],n.isBrowserSupported=function(){var e,t,i,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,i=(o=n.blacklistedBrowsers).length;t<i;t++)o[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},u=function(e,t){var n,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)(n=e[i])!==t&&s.push(n);return s},o=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))},n.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},n.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},n.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},n.getElements=function(e,t){var n,i,o,s,r,l,a;if(e instanceof Array){i=[];try{for(o=0,r=e.length;o<r;o++)n=e[o],i.push(this.getElement(n,t))}catch(e){e,i=null}}else if("string"==typeof e)for(i=[],s=0,l=(a=document.querySelectorAll(e)).length;s<l;s++)n=a[s],i.push(n);else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},n.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},n.isValidFile=function(e,t){var n,i,o,s,r;if(!t)return!0;for(t=t.split(","),n=(i=e.type).replace(/\/.*$/,""),s=0,r=t.length;s<r;s++)if("."===(o=(o=t[s]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0;return!1},null!=e&&(e.fn.dropzone=function(e){return this.each((function(){return new n(this,e)}))}),null!==t?t.exports=n:window.Dropzone=n,n.ADDED="added",n.QUEUED="queued",n.ACCEPTED=n.QUEUED,n.UPLOADING="uploading",n.PROCESSING=n.UPLOADING,n.CANCELED="canceled",n.ERROR="error",n.SUCCESS="success",r=function(e){var t,n,i,o,s,r,l,a;for(e.naturalWidth,s=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=s,(n=t.getContext("2d")).drawImage(e,0,0),i=n.getImageData(0,0,1,s).data,a=0,o=s,r=s;r>a;)0===i[4*(r-1)+3]?o=r:a=r,r=o+a>>1;return 0===(l=r/s)?1:l},l=function(e,t,n,i,o,s,l,a,u,c){var d;return d=r(t),e.drawImage(t,n,i,o,s,l,a,u,c/d)},s=function(e,t){var n,i,o,s,r,l,a,u,c;if(o=!1,c=!0,i=e.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",s=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?e:i)[a](l+n.type,s,!1),!o&&(o=!0)?t.call(e,n.type||n):void 0},r=function(){try{u.doScroll("left")}catch(e){return e,void setTimeout(r,50)}return s("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!e.frameElement}catch(e){}c&&r()}return i[n](l+"DOMContentLoaded",s,!1),i[n](l+"readystatechange",s,!1),e[n](l+"load",s,!1)}},n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()},s(window,n._autoDiscoverFunction)}).call(this)}).call(this,n("6oy4"),n("Y4xB")(e))}}]);
//# sourceMappingURL=commons-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.epics.new-pages.groups.epics.sho-62d75875.05b38bcb.chunk.js.map